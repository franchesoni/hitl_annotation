<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<title>Canvas demo</title>
	<style>
		body {
			margin: 0;
			display: flex;
			height: 100vh;
			font-family: Arial, sans-serif;
		}
		
		.main-container {
			display: flex;
			width: 100%;
			height: 100%;
		}
		
		.left-panel {
			flex: 1;
			display: flex;
			justify-content: center;
			align-items: center;
			background: #f8f9fa;
			border-right: 2px solid #dee2e6;
		}
		
		.right-panel {
			width: 350px;
			padding: 20px;
			background: #ffffff;
			overflow-y: auto;
			display: flex;
			flex-direction: column;
			gap: 20px;
		}
		
		.control-section {
			background: #f8f9fa;
			border: 1px solid #dee2e6;
			border-radius: 8px;
			padding: 15px;
		}
		
		.control-section h3 {
			margin: 0 0 10px 0;
			font-size: 16px;
			color: #495057;
			border-bottom: 1px solid #dee2e6;
			padding-bottom: 5px;
		}
		
		.nav-buttons {
			display: flex;
			gap: 10px;
			margin-bottom: 10px;
		}
		
		.nav-buttons button {
			flex: 1;
			padding: 8px 16px;
			border: 1px solid #007acc;
			background: #007acc;
			color: white;
			border-radius: 4px;
			cursor: pointer;
		}
		
		.nav-buttons button:hover {
			background: #005a9e;
		}
		
		.nav-buttons button:disabled {
			background: #6c757d;
			border-color: #6c757d;
			cursor: not-allowed;
		}
		
		.class-input-group {
			display: flex;
			gap: 5px;
			margin-bottom: 10px;
		}
		
		.class-input-group input {
			flex: 1;
			padding: 8px;
			border: 1px solid #ced4da;
			border-radius: 4px;
		}
		
		.class-input-group button {
			padding: 8px 12px;
			border: 1px solid #28a745;
			background: #28a745;
			color: white;
			border-radius: 4px;
			cursor: pointer;
		}
		
		.class-input-group button:hover {
			background: #218838;
		}
		
		.class-buttons {
			display: flex;
			flex-direction: column;
			gap: 8px;
		}
		
		.class-btn {
			padding: 10px 12px;
			border-radius: 4px;
			border: 1px solid #ccc;
			background: #eee;
			cursor: pointer;
			font-size: 14px;
			text-align: left;
			width: 100%;
		}
		
		.class-btn.selected {
			background: #b3e5fc;
			border-color: #0288d1;
			border-width: 2px;
		}
		
		.info-display {
			font-size: 14px;
			line-height: 1.4;
		}
		
		.info-display b {
			color: #495057;
		}
		
		.prediction-badge {
			background: #ffe0b2;
			padding: 3px 8px;
			border-radius: 4px;
			display: inline-block;
		}
		
		.accuracy-badge {
			background: #c8e6c9;
			padding: 3px 8px;
			border-radius: 4px;
			display: inline-block;
		}
		
		#dev-checklist {
			background: #f8f9fa;
			border: 1px solid #dee2e6;
			border-radius: 8px;
			padding: 15px;
			font-family: monospace;
			font-size: 12px;
			transition: max-height 0.3s ease;
			overflow: hidden;
		}
		#dev-checklist.collapsed {
			max-height: 40px;
		}
		#dev-checklist:not(.collapsed) {
			max-height: 600px;
		}
		#dev-toggle {
			background: #007acc;
			color: white;
			border: none;
			border-radius: 4px;
			padding: 8px 12px;
			cursor: pointer;
			font-size: 12px;
			width: 100%;
			margin-bottom: 10px;
		}
		.checklist-item {
			margin: 3px 0;
			display: flex;
			align-items: center;
		}
		.checklist-item input[type="checkbox"] {
			margin-right: 8px;
		}
		.checklist-section {
			font-weight: bold;
			margin: 10px 0 5px 0;
			border-bottom: 1px solid #ccc;
			padding-bottom: 2px;
		}
                .status-implemented { color: #28a745; }
                .status-partial { color: #ffc107; }
                .status-missing { color: #dc3545; }

                .ai-control {
                        display: flex;
                        flex-direction: column;
                        gap: 6px;
                }

                .ai-control input {
                        padding: 6px;
                        border: 1px solid #ced4da;
                        border-radius: 4px;
                }

                .run-ai-btn, .stop-ai-btn {
                        padding: 8px 12px;
                        border: none;
                        color: #fff;
                        border-radius: 4px;
                        cursor: pointer;
                }

                .run-ai-btn {
                        background: #28a745;
                }

                .run-ai-btn:hover {
                        background: #218838;
                }

                .stop-ai-btn {
                        background: #dc3545;
                }

                .stop-ai-btn:hover {
                        background: #c82333;
                }
        </style>
</head>

<body>
	<div class="main-container">
		<!-- Left Panel: Image -->
		<div class="left-panel">
			<div style="position:relative;display:inline-block;">
				<canvas id="c" style="border:2px solid #333;"></canvas>
				<div id="loading-overlay"
					style="display:none;position:absolute;top:0;left:0;width:100%;height:100%;background:rgba(255,255,255,0.7);z-index:10;justify-content:center;align-items:center;font-size:2em;color:#333;">
					Loading...
				</div>
			</div>
		</div>
		
		<!-- Right Panel: Controls -->
		<div class="right-panel">
			<!-- Developer Checklist Section -->
			<div class="control-section">
				<button id="dev-toggle">üìã Development Spec</button>
				<div id="dev-checklist" class="collapsed">
					<div class="checklist-section">Configurable Components</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-zoom-pan-reset">
						<label for="check-zoom-pan-reset" class="status-partial">Zoom/Pan/Reset View (R) ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-sequential-nav">
						<label for="check-sequential-nav" class="status-partial">Sequential Navigation (‚Üê/‚Üí) ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-image-id" checked>
						<label for="check-image-id" class="status-implemented">Image ID Display üéõÔ∏è</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-class-input" checked>
						<label for="check-class-input" class="status-implemented">Class Input + Add Button (Enter) ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-delete-class">
						<label for="check-delete-class" class="status-missing">Delete Class Button ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-undo">
						<label for="check-undo" class="status-missing">Undo Button (U) ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-prediction">
						<label for="check-prediction" class="status-implemented">Prediction Display ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-training-curve">
						<label for="check-training-curve" class="status-missing">Training Curve ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-performance-curve">
						<label for="check-performance-curve" class="status-missing">Performance Curve ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-architecture">
						<label for="check-architecture" class="status-missing">Architecture Display ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-bbox-drawing">
						<label for="check-bbox-drawing" class="status-missing">Bbox Drawing (Left Click) ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-bbox-editing">
						<label for="check-bbox-editing" class="status-missing">Bbox Editing ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-bbox-class">
						<label for="check-bbox-class" class="status-missing">Bbox Class Assignment ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-bbox-removal">
						<label for="check-bbox-removal" class="status-missing">Bbox Removal (Delete Key) ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-bbox-list">
						<label for="check-bbox-list" class="status-missing">Bbox List ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-skip">
						<label for="check-skip" class="status-missing">Skip Button (S) ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-save">
						<label for="check-save" class="status-missing">Save Button ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-export">
						<label for="check-export" class="status-missing">Export Button ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-config">
						<label for="check-config" class="status-missing">Config Panel ‚óá</label>
					</div>

					<div class="checklist-section">Behavior & Features</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-auto-advance">
						<label for="check-auto-advance" class="status-partial">Auto-advance ‚óá</label>
					</div>
					
					<div class="checklist-item">
						<input type="checkbox" id="check-keyboard" checked>
						<label for="check-keyboard" class="status-implemented">Keyboard Shortcuts üéõÔ∏è</label>
					</div>
				</div>
			</div>
			
			<!-- Navigation Section -->
			<div id="navigation-section" class="control-section">
				<h3>Navigation</h3>
				<div class="nav-buttons">
					<button id="prev-btn">Previous (‚Üê)</button>
					<button id="next-btn">Next (‚Üí)</button>
				</div>
				<button id="reset-view-btn" style="width: 100%; padding: 8px; background: #6c757d; color: white; border: 1px solid #6c757d; border-radius: 4px; cursor: pointer;">Reset View (R)</button>
			</div>
			
			<!-- Undo Section -->
			<div id="undo-section" class="control-section">
				<button id="undo-btn" style="width: 100%; padding: 8px; background: #ffc107; color: black; border: 1px solid #ffc107; border-radius: 4px; cursor: pointer;">Undo (U)</button>
			</div>
			
			<!-- Image Info Section -->
			<div class="control-section">
				<h3>Image Information</h3>
				<div id="image-ids" class="info-display"></div>
			</div>
			
			<!-- Class Management Section -->
                          <div class="control-section">
                                  <h3>Classes</h3>
                                  <div class="class-input-group">
                                          <input id="class-input" type="text" placeholder="Add new class...">
                                          <button id="add-class-btn">Add (Enter)</button>
                                  </div>
                                  <div id="class-list-container" class="class-buttons"></div>
                          </div>

                          <!-- AI Control Section -->
                          <div class="control-section">
                                  <h3>AI Control</h3>
                                  <div class="ai-control">
                                          <input id="ai-arch" placeholder="architecture">
                                          <input id="ai-sleep" type="number" placeholder="sleep">
                                          <input id="ai-budget" type="number" placeholder="budget">
                                          <input id="ai-resize" type="number" placeholder="resize">
                                          <button id="run-ai-btn" class="run-ai-btn">Run AI</button>
                                          <button id="stop-ai-btn" class="stop-ai-btn">Stop AI</button>
                                  </div>
                          </div>

                          <!-- Prediction Section -->
                          <div class="control-section">
                                  <h3>Prediction</h3>
                                  <div id="prediction-container" class="info-display"></div>
                          </div>
			
			<!-- Accuracy Section -->
			<div class="control-section">
				<h3>Model Performance</h3>
				<div id="accuracy-container" class="info-display"></div>
			</div>
		</div>
	</div>
	
	<script src="js/app.js"></script>
</body>

</html>